!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bundlea=t()}(this,function(){"use strict";function t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function a(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){e=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=typeof(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}function c(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===g.call(e)}function u(e){if(e&&"[object Object]"===g.call(e)){var t,n=l.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&l.call(e.constructor.prototype,"isPrototypeOf");if(!e.constructor||n||r){for(t in e);return void 0===t||l.call(e,t)}}}function p(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue}function b(e,t){if("__proto__"===t){if(!l.call(e,t))return;if(r)return r(e,t).value}return e[t]}function d(){var e,t,n,r,o,i=arguments[0],a=1,l=arguments.length,s=!1;for("boolean"==typeof i&&(s=i,i=arguments[1]||{},a=2),(null==i||"object"!=typeof i&&"function"!=typeof i)&&(i={});a<l;++a)if(null!=(e=arguments[a]))for(t in e)o=b(i,t),i!==(n=b(e,t))&&(s&&n&&(u(n)||(r=c(n)))?(o=r?(r=!1,o&&c(o)?o:[]):o&&u(o)?o:{},p(i,{name:t,newValue:d(s,o,n)})):void 0!==n&&p(i,{name:t,newValue:n}));return i}var s,f,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=Object.prototype.hasOwnProperty,g=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,e={exports:{}},m=(f=(s=e).exports,function(){var _={function:!0,object:!0}[typeof window]&&window||this,n=f,e=!s.nodeType&&s,t=n&&e&&"object"==typeof h&&h,l=(!t||t.global!==t&&t.window!==t&&t.self!==t||(_=t),Math.pow(2,53)-1),I=/\bOpera/,t=Object.prototype,r=t.hasOwnProperty,B=t.toString;function o(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function R(e){return e=G(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:o(e)}function A(e,t){for(var n in e)r.call(e,n)&&t(e[n],n,e)}function j(e){return null==e?o(e):B.call(e).slice(8,-1)}function W(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function F(n,r){var o=null,e=n,t=function(e,t){o=r(o,e,t,n)},i=-1,a=e?e.length:0;if("number"==typeof a&&-1<a&&a<=l)for(;++i<a;)t(e[i],i,e);else A(e,t);return o}function G(e){return String(e).replace(/^ +| +$/g,"")}function L(i){var t,n,e,r,o=_,a=i&&"object"==typeof i&&"String"!=j(i),l=(a&&(o=i,i=null),o.navigator||{}),s=l.userAgent||"",c=(i=i||s,a?!!l.likeChrome:/\bChrome\b/.test(i)&&!/internal|\n/i.test(B.toString())),u="Object",p=a?u:"ScriptBridgingProxyObject",b=a?u:"Environment",d=a&&o.java?"JavaPackage":j(o.java),u=a?u:"RuntimeObject",d=/\bJava/.test(d)&&o.java,b=d&&j(o.environment)==b,f=d?"a":"α",h=d?"b":"β",g=o.document||{},m=o.operamini||o.opera,a=I.test(a=a&&m?m["[[Class]]"]:j(m))?a:m=null,y=i,S=[],x=null,s=i==s,v=s&&m&&"function"==typeof m.version&&m.version(),w=F([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||W(t))+"\\b","i").exec(i)&&(t.label||t)}),O=F(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||W(t))+"\\b","i").exec(i)&&(t.label||t)}),k=P([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),E=F({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},function(e,t,n){return e||(t[k]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(k)]||RegExp("\\b"+W(n)+"(?:\\b|\\w*\\d)","i").exec(i))&&n}),T=F(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var n,r,o=t.pattern||W(t);return!e&&(e=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(i))&&(n=e,o=o,t=t.label||t,r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},o&&t&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(r=r[/[\d.]+$/.exec(n)])&&(n="Windows "+r),n=String(n),e=n=R((n=o&&t?n.replace(RegExp(o,"i"),t):n).replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e});function P(e){return F(e,function(e,t){var n=t.pattern||W(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(i)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(i)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(i))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=R(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}function M(e){return F(e,function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(i)||0)[1]||null})}if(w=w&&[w],/\bAndroid\b/.test(T)&&!k&&(t=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(i))&&(k=G(t[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),E&&!k?k=P([E]):E&&(k=k&&k.replace(RegExp("^("+W(E)+")[-_.\\s]","i"),E+" ").replace(RegExp("^("+W(E)+")[-_.]?(\\w)","i"),E+" $2")),(t=/\bGoogle TV\b/.exec(k))&&(k=t[0]),/\bSimulator\b/i.test(i)&&(k=(k?k+" ":"")+"Simulator"),"Opera Mini"==O&&/\bOPiOS\b/.test(i)&&S.push("running in Turbo/Uncompressed mode"),"IE"==O&&/\blike iPhone OS\b/.test(i)?(E=(t=L(i.replace(/like iPhone OS/,""))).manufacturer,k=t.product):/^iP/.test(k)?(O=O||"Safari",T="iOS"+((t=/ OS ([\d_]+)/i.exec(i))?" "+t[1].replace(/_/g,"."):"")):"Konqueror"==O&&/^Linux\b/i.test(T)?T="Kubuntu":E&&"Google"!=E&&(/Chrome/.test(O)&&!/\bMobile Safari\b/i.test(i)||/\bVita\b/.test(k))||/\bAndroid\b/.test(T)&&/^Chrome/.test(O)&&/\bVersion\//i.test(i)?(O="Android Browser",T=/\bAndroid\b/.test(T)?T:"Android"):"Silk"==O?(/\bMobi/i.test(i)||(T="Android",S.unshift("desktop mode")),/Accelerated *= *true/i.test(i)&&S.unshift("accelerated")):"UC Browser"==O&&/\bUCWEB\b/.test(i)?S.push("speed mode"):"PaleMoon"==O&&(t=/\bFirefox\/([\d.]+)\b/.exec(i))?S.push("identifying as Firefox "+t[1]):"Firefox"==O&&(t=/\b(Mobile|Tablet|TV)\b/i.exec(i))?(T=T||"Firefox OS",k=k||t[1]):!O||(t=!/\bMinefield\b/i.test(i)&&/\b(?:Firefox|Safari)\b/.exec(O))?(O&&!k&&/[\/,]|^[^(]+?\)/.test(i.slice(i.indexOf(t+"/")+8))&&(O=null),(t=k||E||T)&&(k||E||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(T))&&(O=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(T)?T:t)+" Browser")):"Electron"==O&&(t=(/\bChrome\/([\d.]+)\b/.exec(i)||0)[1])&&S.push("Chromium "+t),v=v||M(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",W(O),"(?:Firefox|Minefield|NetFront)"]),(t=("iCab"==w&&3<parseFloat(v)?"WebKit":/\bOpera\b/.test(O)&&(/\bOPR\b/.test(i)?"Blink":"Presto"))||(/\b(?:Midori|Nook|Safari)\b/i.test(i)&&!/^(?:Trident|EdgeHTML)$/.test(w)?"WebKit":!w&&/\bMSIE\b/i.test(i)&&("Mac OS"==T?"Tasman":"Trident"))||"WebKit"==w&&/\bPlayStation\b(?! Vita\b)/i.test(O)&&"NetFront")&&(w=[t]),"IE"==O&&(t=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(i)||0)[1])?(O+=" Mobile",T="Windows Phone "+(/\+$/.test(t)?t:t+".x"),S.unshift("desktop mode")):/\bWPDesktop\b/i.test(i)?(O="IE Mobile",T="Windows Phone 8.x",S.unshift("desktop mode"),v=v||(/\brv:([\d.]+)/.exec(i)||0)[1]):"IE"!=O&&"Trident"==w&&(t=/\brv:([\d.]+)/.exec(i))&&(O&&S.push("identifying as "+O+(v?" "+v:"")),O="IE",v=t[1]),s){if(r="global",C=null!=(e=o)?typeof e[r]:"number",/^(?:boolean|number|string|undefined)$/.test(C)||"object"==C&&!e[r])j(t=o.runtime)==p?(O="Adobe AIR",T=t.flash.system.Capabilities.os):j(t=o.phantom)==u?(O="PhantomJS",v=(t=t.version||null)&&t.major+"."+t.minor+"."+t.patch):"number"==typeof g.documentMode&&(t=/\bTrident\/(\d+)/i.exec(i))?(v=[v,g.documentMode],(t=+t[1]+4)!=v[1]&&(S.push("IE "+v[1]+" mode"),w&&(w[1]=""),v[1]=t),v="IE"==O?String(v[1].toFixed(1)):v[0]):"number"==typeof g.documentMode&&/^(?:Chrome|Firefox)\b/.test(O)&&(S.push("masking as "+O+" "+v),O="IE",v="11.0",w=["Trident"],T="Windows");else if(d&&(y=(t=d.lang.System).getProperty("os.arch"),T=T||t.getProperty("os.name")+" "+t.getProperty("os.version")),b){try{v=o.require("ringo/engine").version.join("."),O="RingoJS"}catch(e){(t=o.system)&&t.global.system==o.system&&(O="Narwhal",T=T||t[0].os||null)}O=O||"Rhino"}else"object"==typeof o.process&&!o.process.browser&&(t=o.process)&&("object"==typeof t.versions&&("string"==typeof t.versions.electron?(S.push("Node "+t.versions.node),O="Electron",v=t.versions.electron):"string"==typeof t.versions.nw&&(S.push("Chromium "+v,"Node "+t.versions.node),O="NW.js",v=t.versions.nw)),O||(O="Node.js",y=t.arch,T=t.platform,v=(v=/[\d.]+/.exec(t.version))?v[0]:null));T=T&&R(T)}if(v&&(t=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(v)||/(?:alpha|beta)(?: ?\d)?/i.exec(i+";"+(s&&l.appMinorVersion))||/\bMinefield\b/i.test(i)&&"a")&&(x=/b/i.test(t)?"beta":"alpha",v=v.replace(RegExp(t+"\\+?$"),"")+("beta"==x?h:f)+(/\d+\+?/.exec(t)||"")),"Fennec"==O||"Firefox"==O&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(T))O="Firefox Mobile";else if("Maxthon"==O&&v)v=v.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(k))"Xbox 360"==k&&(T=null),"Xbox 360"==k&&/\bIEMobile\b/.test(i)&&S.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(O)&&(!O||k||/Browser|Mobi/.test(O))||"Windows CE"!=T&&!/Mobi/i.test(i))if("IE"==O&&s)try{null===o.external&&S.unshift("platform preview")}catch(e){S.unshift("embedded")}else(/\bBlackBerry\b/.test(k)||/\bBB10\b/.test(i))&&(t=(RegExp(k.replace(/ +/g," *")+"/([.\\d]+)","i").exec(i)||0)[1]||v)?(T=((t=[t,/BB10/.test(i)])[1]?(k=null,E="BlackBerry"):"Device Software")+" "+t[0],v=null):this!=A&&"Wii"!=k&&(s&&m||/Opera/.test(O)&&/\b(?:MSIE|Firefox)\b/i.test(i)||"Firefox"==O&&/\bOS X (?:\d+\.){2,}/.test(T)||"IE"==O&&(T&&!/^Win/.test(T)&&5.5<v||/\bWindows XP\b/.test(T)&&8<v||8==v&&!/\bTrident\b/.test(i)))&&!I.test(t=L.call(A,i.replace(I,"")+";"))&&t.name&&(t="ing as "+t.name+((t=t.version)?" "+t:""),I.test(O)?(/\bIE\b/.test(t)&&"Mac OS"==T&&(T=null),t="identify"+t):(t="mask"+t,O=a?R(a.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(t)&&(T=null),s||(v=null)),w=["Presto"],S.push(t));else O+=" Mobile";(t=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(i)||0)[1])&&(t=[parseFloat(t.replace(/\.(\d)$/,".0$1")),t],"Safari"==O&&"+"==t[1].slice(-1)?(O="WebKit Nightly",x="alpha",v=t[1].slice(0,-1)):v!=t[1]&&v!=(t[2]=(/\bSafari\/([\d.]+\+?)/i.exec(i)||0)[1])||(v=null),t[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(i)||0)[1],537.36==t[0]&&537.36==t[2]&&28<=parseFloat(t[1])&&"WebKit"==w&&(w=["Blink"]),t=s&&(c||t[1])?(w&&(w[1]="like Chrome"),t[1]||((t=t[0])<530?1:t<532?2:t<532.05?3:t<533?4:t<534.03?5:t<534.07?6:t<534.1?7:t<534.13?8:t<534.16?9:t<534.24?10:t<534.3?11:t<535.01?12:t<535.02?"13+":t<535.07?15:t<535.11?16:t<535.19?17:t<536.05?18:t<536.1?19:t<537.01?20:t<537.11?"21+":t<537.13?23:t<537.18?24:t<537.24?25:t<537.36?26:"Blink"!=w?"27":"28")):(w&&(w[1]="like Safari"),(t=t[0])<400?1:t<500?2:t<526?3:t<533?4:t<534?"4+":t<535?5:t<537?6:t<538?7:t<601?8:t<602?9:t<604?10:t<606?11:t<608?12:"12"),w&&(w[1]+=" "+(t+="number"==typeof t?".x":/[.+]/.test(t)?"":"+")),"Safari"==O&&(!v||45<parseInt(v))?v=t:"Chrome"==O&&/\bHeadlessChrome/i.test(i)&&S.unshift("headless")),"Opera"==O&&(t=/\bzbov|zvav$/.exec(T))?(O+=" ",S.unshift("desktop mode"),"zvav"==t?(O+="Mini",v=null):O+="Mobile",T=T.replace(RegExp(" *"+t+"$"),"")):"Safari"==O&&/\bChrome\b/.exec(w&&w[1])?(S.unshift("desktop mode"),O="Chrome Mobile",v=null,T=/\bOS X\b/.test(T)?(E="Apple","iOS 4.3+"):null):/\bSRWare Iron\b/.test(O)&&!v&&(v=M("Chrome")),(T=v&&0==v.indexOf(t=/[\d.]+$/.exec(T))&&-1<i.indexOf("/"+t+"-")?G(T.replace(t,"")):T)&&-1!=T.indexOf(O)&&!RegExp(O+" OS").test(T)&&(T=T.replace(RegExp(" *"+W(O)+" *"),"")),w&&!/\b(?:Avant|Nook)\b/.test(O)&&(/Browser|Lunascape|Maxthon/.test(O)||"Safari"!=O&&/^iOS/.test(T)&&/\bSafari\b/.test(w[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(O)&&w[1])&&(t=w[w.length-1])&&S.push(t),S.length&&(S=["("+S.join("; ")+")"]),E&&k&&k.indexOf(E)<0&&S.push("on "+E),k&&S.push((/^on /.test(S[S.length-1])?"":"on ")+k),T&&(t=/ ([\d.+]+)$/.exec(T),n=t&&"/"==T.charAt(T.length-t[0].length-1),T={architecture:32,family:t&&!n?T.replace(t[0],""):T,version:t?t[1]:null,toString:function(){var e=this.version;return this.family+(e&&!n?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(t=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(y))&&!/\bi686\b/i.test(y)?(T&&(T.architecture=64,T.family=T.family.replace(RegExp(" *"+t),"")),O&&(/\bWOW64\b/i.test(i)||s&&/\w(?:86|32)$/.test(l.cpuClass||l.platform)&&!/\bWin64; x64\b/i.test(i))&&S.unshift("32-bit")):T&&/^OS X/.test(T.family)&&"Chrome"==O&&39<=parseFloat(v)&&(T.architecture=64),i=i||null;var C={};return C.description=i,C.layout=w&&w[0],C.manufacturer=E,C.name=O,C.prerelease=x,C.product=k,C.ua=i,C.version=O&&v,C.os=T||{architecture:null,family:null,version:null,toString:function(){return"null"}},C.parse=L,C.toString=function(){return this.description||""},C.version&&S.unshift(v),C.name&&S.unshift(O),T&&O&&(T!=String(T).split(" ")[0]||T!=O.split(" ")[0]&&!k)&&S.push(k?"("+T+")":"on "+T),S.length&&(C.description=S.join(" ")),C}t=L();n&&e?A(t,function(e,t){n[t]=e}):_.platform=t}.call(h),e.exports);let y;const S=new Uint8Array(16);const x=[];for(let e=0;e<256;++e)x.push((e+256).toString(16).slice(1));let v,w,O=0,k=0;function E(e,t,n){var r=t&&n||0,o=t||new Array(16);let i=(e=e||{}).node||v,a=void 0!==e.clockseq?e.clockseq:w;null!=i&&null!=a||(n=e.random||(e.rng||function(){if(y=y||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto))return y(S);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})(),null==i&&(i=v=[1|n[0],n[1],n[2],n[3],n[4],n[5]]),null==a&&(a=w=16383&(n[6]<<8|n[7])));n=void 0!==e.msecs?e.msecs:Date.now();let l=void 0!==e.nsecs?e.nsecs:k+1;var s=n-O+(l-k)/1e4;if(s<0&&void 0===e.clockseq&&(a=a+1&16383),1e4<=(l=(s<0||n>O)&&void 0===e.nsecs?0:l))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");O=n,k=l,w=a;var s=(1e4*(268435455&(n+=122192928e5))+l)%4294967296,e=(o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s,n/4294967296*1e4&268435455);o[r++]=e>>>8&255,o[r++]=255&e,o[r++]=e>>>24&15|16,o[r++]=e>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(let e=0;e<6;++e)o[r+e]=i[e];return t||(s=o,n=0,(x[s[n+0]]+x[s[n+1]]+x[s[n+2]]+x[s[n+3]]+"-"+x[s[n+4]]+x[s[n+5]]+"-"+x[s[n+6]]+x[s[n+7]]+"-"+x[s[n+8]]+x[s[n+9]]+"-"+x[s[n+10]]+x[s[n+11]]+x[s[n+12]]+x[s[n+13]]+x[s[n+14]]+x[s[n+15]]).toLowerCase())}function T(e){return(e=e||window.event)&&(e.target||(e.target=e.srcElement),e.currentTarget||(e.currentTarget=e.srcElement)),e}function P(){var e="addEventListener",t="removeEventListener",n="";return window.addEventListener||(e="attachEvent",t="detachEvent",n="on"),{addMethod:e,removeMethod:t,prefix:n}}function M(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=[];return e&&e.tagName?e.id?"#".concat(e.id):(n.push(e.tagName.toLowerCase()),t&&(t=e.className)&&"string"==typeof t&&(t=t.split(/\s+/),n.push(".".concat(t.join(".")))),e.name&&n.push("[name=".concat(e.name,"]")),n.join("")):""}function C(e){return document.getElementById(e)||document.getElementsByName(e)[0]||document.querySelector(e)}function _(){return navigator.language||navigator.browserLanguage}function I(e,t,n){var r=new XMLHttpRequest;r.open("POST",e,!1),r.setRequestHeader("Content-Type","application/json; charset=utf-8"),r.setRequestHeader("apikey",n.apikey),r.send(JSON.stringify(t))}function B(n){var r=history[n];return function(){var e=r.apply(this,arguments),t=new Event(n);return t.arguments=arguments,window.dispatchEvent(t),e}}var R={useClass:!1,appid:"default",uuid:"",userInfo:{},extra:{},enableTrackerKey:!1,enableHeatMapTracker:!1,enableLoadTracker:!1,enableHistoryTracker:!1,enableHashTracker:!1,enableClosedTracker:!1,apikey:"",requestUrl:"http://localhost:3000"},A=["click","dblclick","contextmenu","mousedown","mouseup","mouseenter","mouseout","mouseover"],j=["popstate","pushState","replaceState","hashchange","beforeunload"];return function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._isInstall=!1,this._options={},this.timeStr=null,this._init(e)}var e,n,r;return e=t,(n=[{key:"_init",value:function(){this._setConfig(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),this._setUuid(),this._installInnerTrack(),console.log("%c 埋点SDK加载成功"," text-shadow: 0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb,0 4px 0 #b9b9b9,0 5px 0 #aaa,0 6px 1px rgba(0,0,0,.1),0 0 5px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.3),0 3px 5px rgba(0,0,0,.2),0 5px 10px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.2),0 20px 20px rgba(0,0,0,.15);font-size:5em")}},{key:"_setConfig",value:function(e){e=d(!0,{},R,e),this._options=e}},{key:"_setUuid",value:function(){t="VLAB_TRACKER_UUID",(e=localStorage.getItem(t))||(e=E(),localStorage.setItem(t,e));var e,t=e;this._options.uuid=t}},{key:"setUserId",value:function(e){this._options.userId=e}},{key:"setUserInfo",value:function(e){this._options.userInfo=e}},{key:"setExtra",value:function(e){this._options.extra=e}},{key:"_trackerKeyReport",value:function(){var t=this,e=P();window[e.addMethod](e.prefix+"click",function(e){e=T(e).target.getAttribute("tracker-key");e&&t.sendTracker("click",e,{})},!1)}},{key:"_captureEvents",value:function(t,o){for(var i=this,n=P(),e=0,r=t.length;e<r;e++)!function(e){var r=t[e];window[n.addMethod](n.prefix+r,function(e){var t,n,e=T(e);e&&("load"===r&&(i.timeStr=(new Date).getTime()),-1<A.indexOf(r)?(t=i._getDomAndOffset(e),i.sendTracker(e.type,o,t)):-1<j.indexOf(r)?(t=i._getInOutTimePage(),n={tag:"beforeunload"===r?0:1},i.sendTracker(e.type,o,a(a({},t),n))):i.sendTracker(e.type,o,{}))},!1)}(e)}},{key:"_getDomAndOffset",value:function(e){var t,n,r,o=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof HTMLElement))return console.warn("input is not a HTML element!"),"";for(var n=[],r=e;r;){var o=M(r,t);if(!o)break;if(n.unshift(o),C(n.join(">"))===e||0<=o.indexOf("body"))break;n.shift();var i=r.parentNode.children;if(1<i.length)for(var a=0;a<i.length;a++)if(i[a]===r){o+=":nth-child(".concat(a+1,")");break}if(n.unshift(o),C(n.join(">"))===e)break;r=r.parentNode}return n.join(">")}(e.target,this._options.useClass),i=(i=(i=e.target).getBoundingClientRect(),n=i.width||i.right-i.left,t=i.heigth||i.bottom-i.top,d({},i,{width:n,heigth:t}));if(0!=i.width&&0!=i.height)return t=((n=document.documentElement||document.body.parentNode)&&"number"==typeof n.scrollLeft?n:document.body).scrollLeft,n=(n&&"number"==typeof n.scrollTop?n:document.body).scrollTop,r=e.pageX||e.clientX+t,e=e.pageY||e.clientY+n,{domPath:encodeURIComponent(o),offsetX:((r-i.left-t)/i.width).toFixed(6),offsetY:((e-i.top-n)/i.height).toFixed(6)}}},{key:"_getInOutTimePage",value:function(){return this.timeStr=(new Date).getTime(),{pageInTime:this.timeStr,pageOutTime:(new Date).getTime()}}},{key:"sendTracker",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=a(a(a({userId:this._options.userId,appid:this._options.appid,uuid:this._options.uuid,userInfo:this._options.userInfo,eventType:e,eventId:t},((e={}).performance=window.performance.timing,e)),((t={}).title=document.title,t.url=window.location.href,t.eventTime=(new Date).getTime(),t.browserType=m.name,t.browserVersion=m.version,t.browserEngine=m.layout,t.osType=m.os.family,t.osVersion=m.os.version,t.language=_(),t.referrer=document.referrer,t)),this._options.extra),t=this._options,r=t.apikey,t=t.requestUrl,e=d(!0,{},e,n);console.log("sendData",e),I(t,e,{apikey:r})}},{key:"_installInnerTrack",value:function(){return this._isInstall||(this._options.enableTrackerKey&&this._trackerKeyReport(),this._options.enableHeatMapTracker&&this._openInnerTrack(["click"],"innerHeatMap"),this._options.enableLoadTracker&&this._openInnerTrack(["load"],"innerPageLoad"),this._options.enableHistoryTracker&&(this._openInnerTrack(["load"],"innerPageLoad"),history.pushState=B("pushState"),history.replaceState=B("replaceState"),this._openInnerTrack(["pushState"],"innerHistoryChange"),this._openInnerTrack(["replaceState"],"innerHistoryChange")),this._options.enableClosedTracker&&this._openInnerTrack(["beforeunload"],"innerClosedPage"),this._options.enableHashTracker&&(this._openInnerTrack(["load"],"innerPageLoad"),this._openInnerTrack(["hashchange"],"innerHashChange")),this._isInstall=!0),this}},{key:"_openInnerTrack",value:function(e,t){return this._captureEvents(e,t)}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()});
//# sourceMappingURL=index.js.map
