{"version":3,"file":"index.js","sources":["../node_modules/extend/index.js","../node_modules/platform/platform.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v1.js","../util/log.js","../util/utils.js","../entry/tracker.js"],"sourcesContent":["'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","/*!\n * Platform.js v1.3.6\n * Copyright 2014-2020 Benjamin Tan\n * Copyright 2011-2013 John-David Dalton\n * Available under MIT license\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object. */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object. */\n  var oldRoot = root;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Regular expression to detect Opera. */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object. */\n  var thisBinding = this;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values. */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // Platform tokens are defined at:\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '10.0': '10',\n      '6.4':  '10 Technical Preview',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // Detect Windows version from platform tokens.\n    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) &&\n        (data = data[/[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // Correct character case and cleanup string.\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object. */\n    var context = root;\n\n    /** Used to flag when a custom context is provided. */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // Juggle arguments.\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object. */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string. */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope]. */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome. */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts. */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environments. */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino. */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha. */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta. */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object. */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based).\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]`. */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime. */\n    var data;\n\n    /** The CPU architecture. */\n    var arch = ua;\n\n    /** Platform description array. */\n    var description = [];\n\n    /** Platform alpha/beta indicator. */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform. */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version. */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important). */\n    var layout = getLayout([\n      { 'label': 'EdgeHTML', 'pattern': 'Edge' },\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important). */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Electron',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      { 'label': 'Microsoft Edge', 'pattern': '(?:Edge|Edg|EdgA|EdgiOS)' },\n      'Midori',\n      'Nook Browser',\n      'PaleMoon',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      { 'label': 'Samsung Internet', 'pattern': 'SamsungBrowser' },\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'Sunrise',\n      'Swiftfox',\n      'Vivaldi',\n      'Waterfox',\n      'WebPositive',\n      { 'label': 'Yandex Browser', 'pattern': 'YaBrowser' },\n      { 'label': 'UC Browser', 'pattern': 'UCBrowser' },\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chromium',\n      'Chrome',\n      { 'label': 'Chrome', 'pattern': '(?:HeadlessChrome)' },\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'Firefox for iOS', 'pattern': 'FxiOS' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important). */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      { 'label': 'Galaxy S5', 'pattern': 'SM-G900' },\n      { 'label': 'Galaxy S6', 'pattern': 'SM-G920' },\n      { 'label': 'Galaxy S6 Edge', 'pattern': 'SM-G925' },\n      { 'label': 'Galaxy S7', 'pattern': 'SM-G930' },\n      { 'label': 'Galaxy S7 Edge', 'pattern': 'SM-G935' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nexus',\n      'Nook',\n      'PlayBook',\n      'PlayStation Vita',\n      'PlayStation',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers. */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Alcatel': {},\n      'Archos': {},\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1, 'Nexus': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'Huawei': {},\n      'Lenovo': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Oppo': {},\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 },\n      'Xiaomi': { 'Mi': 1, 'Redmi': 1 }\n    });\n\n    /* Detectable operating systems (order is important). */\n    var os = getOS([\n      'Windows Phone',\n      'KaiOS',\n      'Android',\n      'CentOS',\n      { 'label': 'Chrome OS', 'pattern': 'CrOS' },\n      'Debian',\n      { 'label': 'DragonFly BSD', 'pattern': 'DragonFly' },\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'OpenBSD',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Tizen',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // Lookup the manufacturer by product or scan the UA for the manufacturer.\n        return result || (\n          value[product] ||\n          value[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + ' *\\\\w+-[\\\\w]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // Split by forward slash and append product version if needed.\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // Correct character case and cleanup string.\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Convert layout to an array so we can add extra details.\n    layout && (layout = [layout]);\n\n    // Detect Android products.\n    // Browsers on Android devices typically provide their product IDS after \"Android;\"\n    // up to \"Build\" or \") AppleWebKit\".\n    // Example:\n    // \"Mozilla/5.0 (Linux; Android 8.1.0; Moto G (5) Plus) AppleWebKit/537.36\n    // (KHTML, like Gecko) Chrome/70.0.3538.80 Mobile Safari/537.36\"\n    if (/\\bAndroid\\b/.test(os) && !product &&\n        (data = /\\bAndroid[^;]*;(.*?)(?:Build|\\) AppleWebKit)\\b/i.exec(ua))) {\n      product = trim(data[1])\n        // Replace any language codes (eg. \"en-US\").\n        .replace(/^[a-z]{2}-[a-z]{2};\\s*/i, '')\n        || null;\n    }\n    // Detect product names that contain their manufacturer's name.\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    } else if (manufacturer && product) {\n      product = product\n        .replace(RegExp('^(' + qualify(manufacturer) + ')[-_.\\\\s]', 'i'), manufacturer + ' ')\n        .replace(RegExp('^(' + qualify(manufacturer) + ')[-_.]?(\\\\w)', 'i'), manufacturer + ' $2');\n    }\n    // Clean up Google TV.\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // Detect simulators.\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // Detect IE Mobile 11.\n    if (name == 'IE' && /\\blike iPhone OS\\b/.test(ua)) {\n      data = parse(ua.replace(/like iPhone OS/, ''));\n      manufacturer = data.manufacturer;\n      product = data.product;\n    }\n    // Detect iOS.\n    else if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // Detect Kubuntu.\n    else if (name == 'Konqueror' && /^Linux\\b/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // Detect Android browsers.\n    else if ((manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) ||\n        (/\\bAndroid\\b/.test(os) && /^Chrome/.test(name) && /\\bVersion\\//i.test(ua))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // Detect Silk desktop/accelerated modes.\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // Detect UC Browser speed mode.\n    else if (name == 'UC Browser' && /\\bUCWEB\\b/.test(ua)) {\n      description.push('speed mode');\n    }\n    // Detect PaleMoon identifying as Firefox.\n    else if (name == 'PaleMoon' && (data = /\\bFirefox\\/([\\d.]+)\\b/.exec(ua))) {\n      description.push('identifying as Firefox ' + data[1]);\n    }\n    // Detect Firefox OS and products running Firefox.\n    else if (name == 'Firefox' && (data = /\\b(Mobile|Tablet|TV)\\b/i.exec(ua))) {\n      os || (os = 'Firefox OS');\n      product || (product = data[1]);\n    }\n    // Detect false positives for Firefox/Safari.\n    else if (!name || (data = !/\\bMinefield\\b/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // Escape the `/` for Firefox 1.\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // Clear name of false positives.\n        name = null;\n      }\n      // Reassign a generic name.\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // Add Chrome version to description for Electron.\n    else if (name == 'Electron' && (data = (/\\bChrome\\/([\\d.]+)\\b/.exec(ua) || 0)[1])) {\n      description.push('Chromium ' + data);\n    }\n    // Detect non-Opera (Presto-based) versions (order is important).\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$)|UCBrowser|YaBrowser)',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // Detect stubborn layout engines.\n    if ((data =\n          layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' ||\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') ||\n          layout == 'WebKit' && /\\bPlayStation\\b(?! Vita\\b)/i.test(name) && 'NetFront'\n        )) {\n      layout = [data];\n    }\n    // Detect Windows Phone 7 desktop mode.\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // Detect Windows Phone 8.x desktop mode.\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8.x';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // Detect IE 11 identifying as other browsers.\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (name) {\n        description.push('identifying as ' + name + (version ? ' ' + version : ''));\n      }\n      name = 'IE';\n      version = data[1];\n    }\n    // Leverage environment features.\n    if (useFeatures) {\n      // Detect server-side environments.\n      // Rhino has a global function while others have a global object.\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (rhino) {\n          try {\n            version = context.require('ringo/engine').version.join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if ((data = context.system) && data.global.system == context.system) {\n              name = 'Narwhal';\n              os || (os = data[0].os || null);\n            }\n          }\n          if (!name) {\n            name = 'Rhino';\n          }\n        }\n        else if (\n          typeof context.process == 'object' && !context.process.browser &&\n          (data = context.process)\n        ) {\n          if (typeof data.versions == 'object') {\n            if (typeof data.versions.electron == 'string') {\n              description.push('Node ' + data.versions.node);\n              name = 'Electron';\n              version = data.versions.electron;\n            } else if (typeof data.versions.nw == 'string') {\n              description.push('Chromium ' + version, 'Node ' + data.versions.node);\n              name = 'NW.js';\n              version = data.versions.nw;\n            }\n          }\n          if (!name) {\n            name = 'Node.js';\n            arch = data.arch;\n            os = data.platform;\n            version = /[\\d.]+/.exec(data.version);\n            version = version ? version[0] : null;\n          }\n        }\n      }\n      // Detect Adobe AIR.\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // Detect PhantomJS.\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // Detect IE compatibility modes.\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // We're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode.\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      // Detect IE 11 masking as other browsers.\n      else if (typeof doc.documentMode == 'number' && /^(?:Chrome|Firefox)\\b/.test(name)) {\n        description.push('masking as ' + name + ' ' + version);\n        name = 'IE';\n        version = '11.0';\n        layout = ['Trident'];\n        os = 'Windows';\n      }\n      os = os && format(os);\n    }\n    // Detect prerelease phases.\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // Detect Firefox Mobile.\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS|KaiOS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // Obscure Maxthon's unreliable version.\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // Detect Xbox 360 and Xbox One.\n    else if (/\\bXbox\\b/i.test(product)) {\n      if (product == 'Xbox 360') {\n        os = null;\n      }\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // Add mobile postfix.\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // Detect IE platform preview.\n    else if (name == 'IE' && useFeatures) {\n      try {\n        if (context.external === null) {\n          description.unshift('platform preview');\n        }\n      } catch(e) {\n        description.unshift('embedded');\n      }\n    }\n    // Detect BlackBerry OS version.\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // Detect Opera identifying/masking itself as another browser.\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && product != 'Wii' && (\n          (useFeatures && opera) ||\n          (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n          (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n          (name == 'IE' && (\n            (os && !/^Win/.test(os) && version > 5.5) ||\n            /\\bWindows XP\\b/.test(os) && version > 8 ||\n            version == 8 && !/\\bTrident\\b/.test(ua)\n          ))\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n      // When \"identifying\", the UA contains both Opera and the other browser's name.\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // When \"masking\", the UA contains only the other browser's name.\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // Detect WebKit Nightly and approximate Chrome/Safari versions.\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // Correct build number for numeric comparison.\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // Nightly builds are postfixed with a \"+\".\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // Clear incorrect browser versions.\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // Use the full Chrome version when available.\n      data[1] = (/\\b(?:Headless)?Chrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // Detect Blink layout engine.\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {\n        layout = ['Blink'];\n      }\n      // Detect JavaScriptCore.\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : data < 602 ? 9 : data < 604 ? 10 : data < 606 ? 11 : data < 608 ? 12 : '12');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // Add the postfix of \".x\" or \"+\" for approximate versions.\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // Obscure version for some Safari 1-2 releases.\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      } else if (name == 'Chrome' && /\\bHeadlessChrome/i.test(ua)) {\n        description.unshift('headless');\n      }\n    }\n    // Detect Opera desktop modes.\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // Detect Chrome desktop mode.\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // Newer versions of SRWare Iron uses the Chrome tag to indicate its version number.\n    else if (/\\bSRWare Iron\\b/.test(name) && !version) {\n      version = getVersion('Chrome');\n    }\n    // Strip incorrect OS versions.\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // Ensure OS does not include the browser name.\n    if (os && os.indexOf(name) != -1 && !RegExp(name + ' OS').test(os)) {\n      os = os.replace(RegExp(' *' + qualify(name) + ' *'), '');\n    }\n    // Add layout engine.\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        name != 'Safari' && /^iOS/.test(os) && /\\bSafari\\b/.test(layout[1]) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(name) && layout[1])) {\n      // Don't add layout details to description if they are falsey.\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // Combine contextual information.\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // Append manufacturer to description.\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // Append product to description.\n    if (product) {\n      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);\n    }\n    // Parse the OS into an object.\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // Add browser/OS architecture.\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n    // Chrome 39 and above on OS X is always 64-bit.\n    else if (\n        os && /^OS X/.test(os.family) &&\n        name == 'Chrome' && parseFloat(version) >= 39\n    ) {\n      os.architecture = 64;\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * The list of common layout engines include:\n     * \"Blink\", \"EdgeHTML\", \"Gecko\", \"Trident\" and \"WebKit\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * The list of manufacturers include:\n     * \"Apple\", \"Archos\", \"Amazon\", \"Asus\", \"Barnes & Noble\", \"BlackBerry\",\n     * \"Google\", \"HP\", \"HTC\", \"LG\", \"Microsoft\", \"Motorola\", \"Nintendo\",\n     * \"Nokia\", \"Samsung\" and \"Sony\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * The list of common browser names include:\n     * \"Chrome\", \"Electron\", \"Firefox\", \"Firefox for iOS\", \"IE\",\n     * \"Microsoft Edge\", \"PhantomJS\", \"Safari\", \"SeaMonkey\", \"Silk\",\n     * \"Opera Mini\" and \"Opera\"\n     *\n     * Mobile versions of some browsers have \"Mobile\" appended to their name:\n     * eg. \"Chrome Mobile\", \"Firefox Mobile\", \"IE Mobile\" and \"Opera Mobile\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * The list of common products include:\n     *\n     * \"BlackBerry\", \"Galaxy S4\", \"Lumia\", \"iPad\", \"iPod\", \"iPhone\", \"Kindle\",\n     * \"Kindle Fire\", \"Nexus\", \"Nook\", \"PlayBook\", \"TouchPad\" and \"Transformer\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Linux\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\",\n       * \"SuSE\", \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export platform.\n  var platform = parse();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose platform on the global object to prevent errors when platform is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    root.platform = platform;\n\n    // Define as an anonymous module so platform can be aliased through path mapping.\n    define(function() {\n      return platform;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for CommonJS support.\n    forOwn(platform, function(value, key) {\n      freeExports[key] = value;\n    });\n  }\n  else {\n    // Export to the global object.\n    root.platform = platform;\n  }\n}.call(this));\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport { unsafeStringify } from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || unsafeStringify(b);\n}\n\nexport default v1;","export default function Echo() {\n    var queue = [];\n    var ECHO_TOKEN = {};\n    var RESET_INPUT = \"%c \";\n    var RESET_CSS = \"\";\n\n    // Attach formatting utility method.\n    function alertFormatting(value) {\n\n        queue.push({\n            value: value,\n            css: \"display: inline-block ; background-color: #e0005a ; color: #ffffff ; font-weight: bold ; padding: 3px 7px 3px 7px ; border-radius: 3px 3px 3px 3px ;\"\n        });\n\n        return (ECHO_TOKEN);\n\n    }\n\n    // Attach formatting utility method.\n    function warningFormatting(value) {\n\n        queue.push({\n            value: value,\n            css: \"display: inline-block ; background-color: gold ; color: black ; font-weight: bold ; padding: 3px 7px 3px 7px ; border-radius: 3px 3px 3px 3px ;\"\n        });\n\n        return (ECHO_TOKEN);\n\n    }\n\n    // I provide an echo-based proxy to the given Console Function. This uses an\n    // internal queue to aggregate values before calling the given Console\n    // Function with the desired formatting.\n    function using(consoleFunction) {\n\n        function consoleFunctionProxy() {\n\n            // As we loop over the arguments, we're going to aggregate a set of\n            // inputs and modifiers. The Inputs will ultimately be collapsed down\n            // into a single string that acts as the first console.log parameter\n            // while the modifiers are then SPREAD into console.log as 2...N.\n            // --\n            // NOTE: After each input/modifier pair, I'm adding a RESET pairing.\n            // This implicitly resets the CSS after every formatted pairing.\n            var inputs = [];\n            var modifiers = [];\n\n            for (var i = 0; i < arguments.length; i++) {\n\n                // When the formatting utility methods are called, they return\n                // a special token. This indicates that we should pull the\n                // corresponding value out of the QUEUE instead of trying to\n                // output the given argument directly.\n                if (arguments[i] === ECHO_TOKEN) {\n\n                    var item = queue.shift();\n\n                    inputs.push((\"%c\" + item.value), RESET_INPUT);\n                    modifiers.push(item.css, RESET_CSS);\n\n                    // For every other argument type, output the value directly.\n                } else {\n\n                    var arg = arguments[i];\n\n                    if (\n                        (typeof (arg) === \"object\") ||\n                        (typeof (arg) === \"function\")\n                    ) {\n\n                        inputs.push(\"%o\", RESET_INPUT);\n                        modifiers.push(arg, RESET_CSS);\n\n                    } else {\n\n                        inputs.push((\"%c\" + arg), RESET_INPUT);\n                        modifiers.push(RESET_CSS, RESET_CSS);\n\n                    }\n\n                }\n\n            }\n\n            consoleFunction(inputs.join(\"\"), ...modifiers);\n\n            // Once we output the aggregated value, reset the queue. This should have\n            // already been emptied by the .shift() calls; but the explicit reset\n            // here acts as both a marker of intention as well as a fail-safe.\n            queue = [];\n\n        }\n\n        return (consoleFunctionProxy);\n\n    }\n\n    return ({\n        // Console(ish) functions.\n        log: using(console.log),\n        warn: using(console.warn),\n        error: using(console.error),\n        trace: using(console.trace),\n        group: using(console.group),\n        groupEnd: using(console.groupEnd),\n\n        // Formatting functions.\n        asAlert: alertFormatting,\n        asWarning: warningFormatting\n    });\n\n}\n\n\n// export default class Echo {\n//     queue = []\n//     ECHO_TOKEN = {}\n//     RESET_INPUT = \"%c \"\n//     RESET_CSS = \"\"\n\n//     alertFormatting() {\n\n//         queue.push({\n//             value: value,\n//             css: \"display: inline-block ; background-color: #e0005a ; color: #ffffff ; font-weight: bold ; padding: 3px 7px 3px 7px ; border-radius: 3px 3px 3px 3px ;\"\n//         });\n\n//         return (ECHO_TOKEN);\n//     }\n\n//     warningFormatting() {\n\n//         queue.push({\n//             value: value,\n//             css: \"display: inline-block ; background-color: gold ; color: black ; font-weight: bold ; padding: 3px 7px 3px 7px ; border-radius: 3px 3px 3px 3px ;\"\n//         });\n\n//         return (ECHO_TOKEN);\n//     }\n\n//     using(consoleFunction) {\n//         function consoleFunctionProxy() {\n\n//             // As we loop over the arguments, we're going to aggregate a set of\n//             // inputs and modifiers. The Inputs will ultimately be collapsed down\n//             // into a single string that acts as the first console.log parameter\n//             // while the modifiers are then SPREAD into console.log as 2...N.\n//             // --\n//             // NOTE: After each input/modifier pair, I'm adding a RESET pairing.\n//             // This implicitly resets the CSS after every formatted pairing.\n//             var inputs = [];\n//             var modifiers = [];\n\n//             for (var i = 0; i < arguments.length; i++) {\n\n//                 // When the formatting utility methods are called, they return\n//                 // a special token. This indicates that we should pull the\n//                 // corresponding value out of the QUEUE instead of trying to\n//                 // output the given argument directly.\n//                 if (arguments[i] === ECHO_TOKEN) {\n\n//                     var item = queue.shift();\n\n//                     inputs.push((\"%c\" + item.value), RESET_INPUT);\n//                     modifiers.push(item.css, RESET_CSS);\n\n//                     // For every other argument type, output the value directly.\n//                 } else {\n\n//                     var arg = arguments[i];\n\n//                     if (\n//                         (typeof (arg) === \"object\") ||\n//                         (typeof (arg) === \"function\")\n//                     ) {\n\n//                         inputs.push(\"%o\", RESET_INPUT);\n//                         modifiers.push(arg, RESET_CSS);\n\n//                     } else {\n\n//                         inputs.push((\"%c\" + arg), RESET_INPUT);\n//                         modifiers.push(RESET_CSS, RESET_CSS);\n\n//                     }\n\n//                 }\n\n//             }\n\n//             consoleFunction(inputs.join(\"\"), ...modifiers);\n\n//             // Once we output the aggregated value, reset the queue. This should have\n//             // already been emptied by the .shift() calls; but the explicit reset\n//             // here acts as both a marker of intention as well as a fail-safe.\n//             queue = [];\n\n//         }\n\n//         return (consoleFunctionProxy);\n//     }\n\n//     // Console(ish) functions.\n//     log = using(console.log)\n//     warn = using(console.warn)\n//     error = using(console.error)\n//     trace = using(console.trace)\n//     group = using(console.group)\n//     groupEnd = using(console.groupEnd)\n\n//     // Formatting functions.\n//     asAlert = alertFormatting\n//     asWarning = warningFormatting\n\n// }","//utils.js\nimport extend from \"extend\";\nimport platform from \"platform\";\n// import uuidv1 from 'uuid/dist/esm-browser/v1';\nimport { v1 as uuidv1 } from \"uuid\";\nimport Echo from '../util/log';\n\n/**\n * @description: 获取Event 参数\n * @param {*} event\n * @return {*}\n */\nconst getEvent = (event) => {\n  event = event || window.event;\n  if (!event) {\n    return event;\n  }\n  if (!event.target) {\n    event.target = event.srcElement;\n  }\n  if (!event.currentTarget) {\n    event.currentTarget = event.srcElement;\n  }\n  return event;\n};\n\n/**\n * @description: 获取时间绑定方式（兼容IE 9）\n * @return {*}\n */\nconst getEventListenerMethod = () => {\n  let addMethod = \"addEventListener\",\n    removeMethod = \"removeEventListener\",\n    prefix = \"\";\n  if (!window.addEventListener) {\n    addMethod = \"attachEvent\";\n    removeMethod = \"detachEvent\";\n    prefix = \"on\";\n  }\n  return {\n    addMethod,\n    removeMethod,\n    prefix,\n  };\n};\n\n/**\n * @description: 获取元素宽高\n * @param {*} element\n * @return {*}\n */\nconst getBoundingClientRect = (element) => {\n  const rect = element.getBoundingClientRect();\n  const width = rect.width || rect.right - rect.left;\n  const heigth = rect.heigth || rect.bottom - rect.top;\n  return extend({}, rect, {\n    width,\n    heigth,\n  });\n};\n\nconst stringify = (obj) => {\n  let params = [];\n  for (let key in obj) {\n    params.push(`${key}=${obj[key]}`);\n  }\n  return params.join(\"&\");\n};\n\n/**\n * @description: 获取Dom Path\n * @param {*} element\n * @param {*} useClass\n * @return {*}\n */\nconst getDomPath = (element, useClass = false) => {\n  if (!(element instanceof HTMLElement)) {\n    console.warn(\"input is not a HTML element!\");\n    return \"\";\n  }\n  let domPath = [];\n  let elem = element;\n  while (elem) {\n    let domDesc = getDomDesc(elem, useClass);\n    if (!domDesc) {\n      break;\n    }\n    domPath.unshift(domDesc);\n    if (\n      querySelector(domPath.join(\">\")) === element ||\n      domDesc.indexOf(\"body\") >= 0\n    ) {\n      break;\n    }\n    domPath.shift();\n    const children = elem.parentNode.children;\n    if (children.length > 1) {\n      for (let i = 0; i < children.length; i++) {\n        if (children[i] === elem) {\n          domDesc += `:nth-child(${i + 1})`;\n          break;\n        }\n      }\n    }\n    domPath.unshift(domDesc);\n    if (querySelector(domPath.join(\">\")) === element) {\n      break;\n    }\n    elem = elem.parentNode;\n  }\n  return domPath.join(\">\");\n};\n\nconst getDomDesc = (element, useClass = false) => {\n  const domDesc = [];\n  if (!element || !element.tagName) {\n    return \"\";\n  }\n  if (element.id) {\n    return `#${element.id}`;\n  }\n  domDesc.push(element.tagName.toLowerCase());\n  if (useClass) {\n    const className = element.className;\n    if (className && typeof className === \"string\") {\n      const classes = className.split(/\\s+/);\n      domDesc.push(`.${classes.join(\".\")}`);\n    }\n  }\n  if (element.name) {\n    domDesc.push(`[name=${element.name}]`);\n  }\n  return domDesc.join(\"\");\n};\n\nconst querySelector = function (queryString) {\n  return (\n    document.getElementById(queryString) ||\n    document.getElementsByName(queryString)[0] ||\n    document.querySelector(queryString)\n  );\n};\n\nconst getAppInfo = function () {\n  let data = {};\n  // title\n  data.title = document.title;\n  // url\n  data.url = window.location.href;\n  // eventTime\n  data.eventTime = new Date().getTime();\n  // browserType\n  data.browserType = platform.name;\n  // browserVersion\n  data.browserVersion = platform.version;\n  // browserEngine\n  data.browserEngine = platform.layout;\n  // osType\n  data.osType = platform.os.family;\n  // osVersion\n  data.osVersion = platform.os.version;\n  // languages\n  data.language = getBrowserLang();\n  // referrer\n  data.referrer = document.referrer;\n  return data;\n};\n\n/**\n * @description: 获取页面性能指标\n * @return {*}\n */\nconst getPerformanceInfo = function () {\n  let data = {};\n  data.performance = window.performance.timing;\n  return data;\n};\n\nconst getBrowserLang = function () {\n  var currentLang = navigator.language;\n  if (!currentLang) {\n    currentLang = navigator.browserLanguage;\n  }\n  return currentLang;\n};\n\nconst createUuid = function () {\n  const key = \"VLAB_TRACKER_UUID\";\n  let curUuid = localStorage.getItem(key);\n  if (!curUuid) {\n    curUuid = uuidv1();\n    localStorage.setItem(key, curUuid);\n  }\n  return curUuid;\n};\n\nconst reportTracker = function (url, data, header) {\n  // const reportData = stringify(data);\n  // let urlLength = (url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + reportData)\n  //   .length;\n  // if (urlLength < 2083) {\n  //   imgReport(url, data);\n  // } else if (navigator.sendBeacon) {\n  //   sendBeacon(url, data);\n  // } else {\n  //   xmlHttpRequest(url, data);\n  // }\n  xmlHttpRequest(url, data, header);\n\n};\n\nconst imgReport = function (url, data) {\n  const image = new Image(1, 1);\n  image.onload = function () {\n    image = null;\n  };\n  image.src = `${url}?${stringify(data)}`;\n};\n\nconst sendBeacon = function (url, data) {\n  //判断支不支持navigator.sendBeacon\n  let headers = {\n    type: \"application/x-www-form-urlencoded\",\n  };\n  let blob = new Blob([JSON.stringify(data)], headers);\n  navigator.sendBeacon(url, blob);\n};\n\nconst xmlHttpRequest = function (url, data, header) {\n  const client = new XMLHttpRequest();\n  client.open(\"POST\", url, false);\n  client.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n  client.setRequestHeader(\"apikey\", header[\"apikey\"]);\n  client.send(JSON.stringify(data));\n};\n\nconst createHistoryEvent = function (type) {\n  var origin = history[type];\n  return function () {\n    var res = origin.apply(this, arguments);\n    var e = new Event(type);\n    e.arguments = arguments;\n    window.dispatchEvent(e);\n    return res;\n  };\n};\n\nconst log = function () {\n  let echo = Echo();\n  echo.group(echo.asWarning(\"埋点注入成功\"));\n  echo.log(\"Make sure the key is correct\");\n  echo.log(\"Ensure that data is whitelisted\", echo.asAlert(\"Important!\"));\n  echo.log(\"Track\");\n  echo.log(\"maintain\", echo.asWarning(\"Strong\"));\n  echo.groupEnd();\n}\n\nexport {\n  getEvent,\n  getEventListenerMethod,\n  getBoundingClientRect,\n  stringify,\n  getDomPath,\n  getDomDesc,\n  querySelector,\n  getAppInfo,\n  getPerformanceInfo,\n  getBrowserLang,\n  createUuid,\n  reportTracker,\n  createHistoryEvent,\n  log\n};\n","// tracker.js\nimport extend from 'extend';\nimport {\n    getEvent,\n    getEventListenerMethod,\n    getBoundingClientRect,\n    getDomPath,\n    getAppInfo,\n    getPerformanceInfo,\n    createUuid,\n    reportTracker,\n    createHistoryEvent,\n    log\n} from '../util/utils';\n\nconst defaultOptions = {\n    useClass: false, // 是否用当前dom元素中的类名标识当前元素\n    appid: 'default', // 应用标识，用来区分埋点数据中的应用\n    uuid: '', // 设备标识，自动生成并存在浏览器中,\n    userInfo: {},\n    extra: {}, // 用户自定义上传字段对象\n    enableTrackerKey: false, // 是否开启约定拥有属性值为'tracker-key'的dom的点击事件自动上报\n    enableHeatMapTracker: false, // 是否开启热力图自动上报\n    enableLoadTracker: false, // 是否开启页面加载自动上报，适合多页面应用的pv上报\n    enableHistoryTracker: false, // 是否开启页面history变化自动上报，适合单页面应用的history路由\n    enableHashTracker: false, // 是否开启页面hash变化自动上报，适合单页面应用的hash路由\n    enableClosedTracker: false, // 是否开启页面关闭自动上报\n    apikey: '',\n    requestUrl: 'http://localhost:3000', // 埋点请求后端接口\n    reportWhiteList: [], // 数据上报白名单\n    reportBlackPathNamelist: [] //数据上报黑名单 By pathName\n};\n\nconst MouseEventList = ['click', 'dblclick', 'contextmenu', 'mousedown', 'mouseup', 'mouseenter', 'mouseout', 'mouseover'];\n\nconst browserHistoryEvent = ['popstate', 'pushState', 'replaceState', 'hashchange', 'beforeunload']\n\n\nclass Tracker {\n    constructor(options) {\n        this._isInstall = false;\n        this._options = {};\n        this.timeStr = null;\n        this.reportWhiteListVaild(options) && !this.reportBlackaPthNamelistVaild(options) && this._init(options)\n    }\n\n    /**\n     * @description: 初始化白名单验证\n     * @return {*}\n     */\n    reportWhiteListVaild(options) {\n        if (window.location) {\n            let { hostname } = window.location;\n            let { reportWhiteList } = options;\n            return Array.isArray(reportWhiteList) && reportWhiteList.includes(hostname);\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * @description: 验证是否是黑名单pathName\n     * @param {*} options\n     * @return {*}\n     */\n    reportBlackaPthNamelistVaild(options) {\n        if (window.location) {\n            let { pathname } = window.location;\n            let { reportBlackPathNamelist } = options;\n            return Array.isArray(reportWhiteList) && reportBlackPathNamelist.includes(pathname);\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * 初始化\n     * @param {*} options 用户参数\n     */\n    _init(options = {}) {\n        this._setConfig(options);\n        this._setUuid();\n        this._installInnerTrack();\n        log();\n    }\n\n    /**\n     * 用户参数合并\n     * @param {*} options 用户参数\n     */\n    _setConfig(options) {\n        options = extend(true, {}, defaultOptions, options);\n        this._options = options;\n    }\n\n    /**\n     * 设置当前设备uuid标识\n     */\n    _setUuid() {\n        const uuid = createUuid();\n        this._options.uuid = uuid;\n    }\n\n    /**\n     * 设置当前用户标识\n     * @param {*} userId 用户标识\n     */\n    setUserId(userId) {\n        this._options.userId = userId;\n    }\n\n    /**\n     * @description: 设置埋点上报userInfo\n     * @param {*} userInfo\n     * @return {*}\n     */\n    setUserInfo(userInfo) {\n        this._options.userInfo = userInfo;\n    }\n\n    /**\n     * 设置埋点上报额外数据\n     * @param {*} extraObj 需要加到埋点上报中的额外数据\n     */\n    setExtra(extraObj) {\n        this._options.extra = extraObj;\n    }\n\n    /**\n     * 约定拥有属性值为'tracker-key'的dom点击事件上报函数\n     */\n    _trackerKeyReport() {\n        const that = this;\n        const eventMethodObj = getEventListenerMethod();\n        const eventName = 'click'\n        window[eventMethodObj.addMethod](eventMethodObj.prefix + eventName, function (event) {\n            const eventFix = getEvent(event);\n            const trackerValue = eventFix.target.getAttribute('tracker-key');\n            if (trackerValue) {\n                that.sendTracker('click', trackerValue, {});\n            }\n        }, false)\n    }\n\n    /**\n     * 通用事件处理函数\n     * @param {*} eventList 事件类型数组\n     * @param {*} trackKey 埋点key\n     */\n    _captureEvents(eventList, trackKey) {\n        const that = this;\n        const eventMethodObj = getEventListenerMethod();\n        for (let i = 0, j = eventList.length; i < j; i++) {\n            let eventName = eventList[i];\n            window[eventMethodObj.addMethod](eventMethodObj.prefix + eventName, function (event) {\n                const eventFix = getEvent(event);\n                if (!eventFix) {\n                    return;\n                }\n                // 计算页面进入时间\n                if (eventName === 'load') {\n                    that.timeStr = new Date().getTime();\n                }\n                if (MouseEventList.indexOf(eventName) > -1) {\n                    const domData = that._getDomAndOffset(eventFix);\n                    that.sendTracker(eventFix.type, trackKey, domData);\n                } else if (browserHistoryEvent.indexOf(eventName) > -1) {\n                    const timeData = that._getInOutTimePage();\n                    let pageStatus = {\n                        tag: eventName === 'beforeunload' ? 0 : 1\n                    };\n                    that.sendTracker(eventFix.type, trackKey, { ...timeData, ...pageStatus });\n                    this.timeStr = new Date().getTime();\n                } else {\n                    that.sendTracker(eventFix.type, trackKey, {});\n                }\n            }, false)\n        }\n    }\n\n    /**\n     * 获取触发事件的dom元素和位置信息\n     * @param {*} event 事件类型\n     * @returns \n     */\n    _getDomAndOffset(event) {\n        const domPath = getDomPath(event.target, this._options.useClass);\n        const rect = getBoundingClientRect(event.target);\n        if (rect.width == 0 || rect.height == 0) {\n            return;\n        }\n        let t = document.documentElement || document.body.parentNode;\n        const scrollX = (t && typeof t.scrollLeft == 'number' ? t : document.body).scrollLeft;\n        const scrollY = (t && typeof t.scrollTop == 'number' ? t : document.body).scrollTop;\n        const pageX = event.pageX || event.clientX + scrollX;\n        const pageY = event.pageY || event.clientY + scrollY;\n        const data = {\n            domPath: encodeURIComponent(domPath),\n            offsetX: ((pageX - rect.left - scrollX) / rect.width).toFixed(6),\n            offsetY: ((pageY - rect.top - scrollY) / rect.height).toFixed(6),\n        };\n        return data;\n    }\n\n    /**\n     * @description: 获取单页面应用页面切换进出页面时间\n     * @return {*}\n     */\n    _getInOutTimePage() {\n        const data = {\n            pageInTime: this.timeStr,\n            pageOutTime: new Date().getTime()\n        };\n        return data;\n    }\n\n    /**\n     * 埋点上报\n     * @param {*} eventType 事件类型\n     * @param {*} eventId  事件key\n     * @param {*} data 埋点数据\n     */\n    sendTracker(eventType, eventId, data = {}) {\n        const defaultData = {\n            userId: this._options.userId,\n            appid: this._options.appid,\n            uuid: this._options.uuid,\n            userInfo: this._options.userInfo,\n            eventType: eventType,\n            eventId: eventId,\n            ...getPerformanceInfo(),\n            ...getAppInfo(),\n            ...this._options.extra,\n        };\n        const { apikey, requestUrl } = this._options\n        const sendData = extend(true, {}, defaultData, data);\n        reportTracker(requestUrl, sendData, { apikey: apikey });\n    }\n\n    /**\n     * 装载sdk内部自动埋点\n     * @returns \n     */\n    _installInnerTrack() {\n        if (this._isInstall) {\n            return this;\n        }\n        if (this._options.enableTrackerKey) {\n            this._trackerKeyReport();\n        }\n        // 热力图埋点\n        if (this._options.enableHeatMapTracker) {\n            this._openInnerTrack(['click'], 'innerHeatMap');\n        }\n        // 页面load埋点\n        if (this._options.enableLoadTracker) {\n            this._openInnerTrack(['load'], 'innerPageLoad');\n        }\n        // 页面history变化埋点\n        if (this._options.enableHistoryTracker) {\n            // 首先监听页面第一次加载的load事件\n            this._openInnerTrack(['load'], 'innerPageLoad');\n            // 对浏览器history对象对方法进行改写，实现对单页面应用history路由变化的监听\n            history['pushState'] = createHistoryEvent('pushState');\n            history['replaceState'] = createHistoryEvent('replaceState');\n            this._openInnerTrack(['pushState'], 'innerHistoryChange');\n            this._openInnerTrack(['replaceState'], 'innerHistoryChange');\n        }\n        if (this._options.enableClosedTracker) {\n            this._openInnerTrack(['beforeunload'], 'innerClosedPage');\n        }\n        // todo\n        // 页面hash变化埋点\n        if (this._options.enableHashTracker) {\n            // 首先监听页面第一次加载的load事件\n            this._openInnerTrack(['load'], 'innerPageLoad');\n            // 同时监听hashchange事件\n            this._openInnerTrack(['hashchange'], 'innerHashChange');\n        }\n\n        this._isInstall = true;\n        return this;\n    }\n\n    /**\n     * 开启内部埋点\n     * @param {*} event 监听事件类型\n     * @param {*} trackKey 埋点key\n     * @returns \n     */\n    _openInnerTrack(event, trackKey) {\n        return this._captureEvents(event, trackKey);\n    }\n\n}\n\nexport default Tracker;"],"names":["isArray","arr","Array","toStr","call","isPlainObject","obj","key","hasOwnConstructor","hasOwn","hasIsPrototypeOf","constructor","prototype","setProperty","target","options","defineProperty","name","enumerable","configurable","value","newValue","writable","getProperty","gOPD","extend","copy","copyIsArray","clone","arguments","i","length","deep","src","Object","hasOwnProperty","toString","getOwnPropertyDescriptor","root","function","object","window","this","freeExports","exports","freeModule","module","nodeType","freeGlobal","global","maxSafeInteger","self","Math","pow","reOpera","objectProto","capitalize","string","String","charAt","toUpperCase","slice","format","trim","test","forOwn","callback","getClassOf","qualify","replace","reduce","array","accumulator","index","parse","ua","data","isSpecialCasedOS","property","context","isCustomContext","nav","navigator","userAgent","likeChrome","objectClass","airRuntimeClass","enviroClass","javaClass","java","phantomClass","rhino","environment","alpha","beta","doc","document","opera","operamini","operaClass","arch","description","prerelease","useFeatures","version","layout","label","pattern","result","guess","RegExp","exec","product","getProduct","manufacturer","Apple","iPad","iPhone","iPod","Alcatel","Archos","Amazon","Kindle","Kindle Fire","Asus","Transformer","Barnes & Noble","Nook","BlackBerry","PlayBook","Google","Google TV","Nexus","HP","TouchPad","HTC","Huawei","Lenovo","LG","Microsoft","Xbox","Xbox One","Motorola","Xoom","Nintendo","Wii U","Wii","Nokia","Lumia","Oppo","Samsung","Galaxy S","Galaxy S2","Galaxy S3","Galaxy S4","Sony","PlayStation","PlayStation Vita","Xiaomi","Mi","Redmi","os","10.0","6.4","6.3","6.2","6.1","6.0","5.2","5.1","5.01","5.0","4.0","4.90","split","guesses","getVersion","patterns","push","unshift","indexOf","parseFloat","type","runtime","flash","system","Capabilities","phantom","major","minor","patch","documentMode","toFixed","lang","System","require","join","e","process","browser","versions","electron","node","nw","platform","appMinorVersion","external","parseInt","architecture","family","cpuClass","let","getRandomValues","rnds8","Uint8Array","byteToHex","_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","buf","offset","b","clockseq","undefined","seedBytes","random","rng","crypto","bind","Error","msecs","Date","now","nsecs","dt","tl","tmh","n","toLowerCase","Echo","queue","ECHO_TOKEN","using","consoleFunction","arg","inputs","modifiers","item","shift","css","log","console","warn","error","trace","group","groupEnd","asAlert","asWarning","querySelector","queryString","getElementById","getElementsByName","getAppInfo","title","url","location","href","eventTime","getTime","browserType","browserVersion","browserEngine","osType","osVersion","language","currentLang","browserLanguage","referrer","reportTracker","header","client","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","createHistoryEvent","origin","history","res","apply","Event","dispatchEvent","getEvent","event","srcElement","currentTarget","getEventListenerMethod","addMethod","removeMethod","prefix","addEventListener","defaultOptions","useClass","appid","uuid","userInfo","extra","enableTrackerKey","enableHeatMapTracker","enableLoadTracker","enableHistoryTracker","enableHashTracker","enableClosedTracker","apikey","requestUrl","reportWhiteList","reportBlackPathNamelist","MouseEventList","browserHistoryEvent","_isInstall","_options","timeStr","reportWhiteListVaild","reportBlackaPthNamelistVaild","_init","hostname","includes","pathname","_setConfig","_setUuid","_installInnerTrack","echo","curUuid","localStorage","getItem","uuidv1","setItem","setUserId","userId","setUserInfo","setExtra","extraObj","_trackerKeyReport","that","eventMethodObj","trackerValue","getAttribute","sendTracker","_captureEvents","eventList","trackKey","j","eventName","timeData","pageStatus","eventFix","domData","_getDomAndOffset","_getInOutTimePage","tag","scrollX","scrollY","pageX","domPath","element","HTMLElement","elem","domDesc","tagName","id","className","classes","children","parentNode","rect","getBoundingClientRect","width","right","left","heigth","bottom","top","height","t","documentElement","body","scrollLeft","scrollTop","clientX","pageY","clientY","encodeURIComponent","offsetX","offsetY","pageInTime","pageOutTime","eventType","eventId","defaultData","performance","timing","sendData","_openInnerTrack"],"mappings":"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"}